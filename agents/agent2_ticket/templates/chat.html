<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Agent2 Ticket - Chat Interface</title>
        <link rel="stylesheet" href="/static/css/style.css">
    </head>

    <body>
        <div class="chat-container">
            <div class="chat-header">
                <h1>WSB Merito</h1>
                <p>Postaram się odpowiedzieć na Twoje pytania!</p>
            </div>

            <div class="status-bar" id="statusBar">
                <span class="status-dot"></span>
                <span id="statusText">Ready - WSB Merito (port 8002)</span>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message assistant">
                    <div class="message-content">Cześć! Jestem asystentem WSB Merito. Jak mogę pomóc?</div>
                    <div class="message-meta">WSB Merito</div>
                </div>
            </div>

            <div class="chat-input-area">
                <div class="input-wrapper">
                    <input type="file" id="fileInput" accept=".pdf,.doc,.docx,.txt,.md,image/*,.xls,.xlsx" hidden>
                    <button class="upload-inline-btn" id="uploadBtn" aria-label="Dodaj plik">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                    <input type="text" class="chat-input" id="userInput" placeholder="Zadaj mi pytanie.." autofocus>
                    <button class="clear-btn" id="clearBtn" title="Wyczyść rozmowę">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                            </path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                    </button>
                </div>
                <button class="send-btn" id="sendBtn">Wyślij</button>
            </div>

            <div class="upload-status-row">
                <div class="upload-status" id="uploadStatus" aria-live="polite">
                    Brak pliku. Dozwolone: PDF, DOC/DOCX, TXT/MD, PNG/JPG, Excel.
                </div>
                <button type="button" class="upload-clear-btn hidden" id="clearFileBtn">Usuń plik</button>
            </div>
        </div>

        <script src="/static/js/chat.js"></script>
    </body>

</html>